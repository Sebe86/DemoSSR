exports.ids=[1],exports.modules={"4yGZ":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CrisisCenterModule",function(){return CrisisCenterModule});var fesm2015_forms=__webpack_require__("3Pt+"),common=__webpack_require__("ofXK"),router=__webpack_require__("tyNb"),core=__webpack_require__("fXoL");class CrisisCenterHomeComponent{}CrisisCenterHomeComponent.\u0275fac=function CrisisCenterHomeComponent_Factory(t){return new(t||CrisisCenterHomeComponent)},CrisisCenterHomeComponent.\u0275cmp=core.Ac({type:CrisisCenterHomeComponent,selectors:[["app-crisis-center-home"]],decls:2,vars:0,template:function CrisisCenterHomeComponent_Template(rf,ctx){1&rf&&(core.Jc(0,"p"),core.ed(1,"Welcome to the Crisis Center"),core.Ic())},styles:[""]});var switchMap=__webpack_require__("eIep"),BehaviorSubject=__webpack_require__("2Vo4"),map=__webpack_require__("lJxs");const CRISES=[{id:1,name:"Dragon Burning Cities"},{id:2,name:"Sky Rains Great White Sharks"},{id:3,name:"Giant Asteroid Heading For Earth"},{id:4,name:"Procrastinators Meeting Delayed Again"}];var message_service=__webpack_require__("OdHV");class crisis_service_CrisisService{constructor(messageService){this.messageService=messageService,this.crises$=new BehaviorSubject.a(CRISES)}getCrises(){return this.crises$}getCrisis(id){return this.getCrises().pipe(Object(map.a)(crises=>crises.find(crisis=>crisis.id===+id)))}addCrisis(name){if(name=name.trim()){const crisis={id:crisis_service_CrisisService.nextCrisisId++,name:name};CRISES.push(crisis),this.crises$.next(CRISES)}}}crisis_service_CrisisService.nextCrisisId=100,crisis_service_CrisisService.\u0275fac=function CrisisService_Factory(t){return new(t||crisis_service_CrisisService)(core.Nc(message_service.a))},crisis_service_CrisisService.\u0275prov=core.Cc({token:crisis_service_CrisisService,factory:crisis_service_CrisisService.\u0275fac,providedIn:"root"});const _c0=function(a0){return[a0]};function CrisisListComponent_li_1_Template(rf,ctx){if(1&rf&&(core.Jc(0,"li"),core.Jc(1,"a",2),core.Jc(2,"span",3),core.ed(3),core.Ic(),core.ed(4),core.Ic(),core.Ic()),2&rf){const crisis_r1=ctx.$implicit,ctx_r0=core.Sc();core.yc("selected",crisis_r1.id===ctx_r0.selectedId),core.wc(1),core.Vc("routerLink",core.Xc(5,_c0,crisis_r1.id)),core.wc(2),core.fd(crisis_r1.id),core.wc(1),core.gd("",crisis_r1.name," ")}}class crisis_list_component_CrisisListComponent{constructor(service,route){this.service=service,this.route=route}ngOnInit(){this.crises$=this.route.paramMap.pipe(Object(switchMap.a)(params=>(this.selectedId=+params.get("id"),this.service.getCrises())))}}crisis_list_component_CrisisListComponent.\u0275fac=function CrisisListComponent_Factory(t){return new(t||crisis_list_component_CrisisListComponent)(core.Gc(crisis_service_CrisisService),core.Gc(router.a))},crisis_list_component_CrisisListComponent.\u0275cmp=core.Ac({type:crisis_list_component_CrisisListComponent,selectors:[["app-crisis-list"]],decls:4,vars:3,consts:[[1,"crises"],[3,"selected",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"]],template:function CrisisListComponent_Template(rf,ctx){1&rf&&(core.Jc(0,"ul",0),core.dd(1,CrisisListComponent_li_1_Template,5,7,"li",1),core.Tc(2,"async"),core.Ic(),core.Hc(3,"router-outlet")),2&rf&&(core.wc(1),core.Vc("ngForOf",core.Uc(2,1,ctx.crises$)))},directives:[common.i,router.g,router.e],pipes:[common.b],styles:[".crises[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:24em}.crises[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.crises[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.crises[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;text-decoration:none;display:block}.crises[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.crises[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}button[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;font-family:Arial,sans-serif}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button.delete[_ngcontent-%COMP%]{position:relative;left:194px;top:-32px;background-color:grey!important;color:#fff}.crises[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.crises[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc}"]});class CrisisCenterComponent{}CrisisCenterComponent.\u0275fac=function CrisisCenterComponent_Factory(t){return new(t||CrisisCenterComponent)},CrisisCenterComponent.\u0275cmp=core.Ac({type:CrisisCenterComponent,selectors:[["app-crisis-center"]],decls:3,vars:0,template:function CrisisCenterComponent_Template(rf,ctx){1&rf&&(core.Jc(0,"h2"),core.ed(1,"CRISIS CENTER"),core.Ic(),core.Hc(2,"router-outlet"))},directives:[router.g],styles:[""]});var of=__webpack_require__("LRne");class dialog_service_DialogService{confirm(message){const confirmation=window.confirm(message||"Is it OK?");return Object(of.a)(confirmation)}}function CrisisDetailComponent_div_0_Template(rf,ctx){if(1&rf){const _r2=core.Kc();core.Jc(0,"div"),core.Jc(1,"h3"),core.ed(2),core.Ic(),core.Jc(3,"div"),core.Jc(4,"label"),core.ed(5,"Id: "),core.Ic(),core.ed(6),core.Ic(),core.Jc(7,"div"),core.Jc(8,"label"),core.ed(9,"Name: "),core.Ic(),core.Jc(10,"input",1),core.Qc("ngModelChange",function CrisisDetailComponent_div_0_Template_input_ngModelChange_10_listener($event){core.ad(_r2);return core.Sc().editName=$event}),core.Ic(),core.Ic(),core.Jc(11,"p"),core.Jc(12,"button",2),core.Qc("click",function CrisisDetailComponent_div_0_Template_button_click_12_listener(){core.ad(_r2);return core.Sc().save()}),core.ed(13,"Save"),core.Ic(),core.Jc(14,"button",2),core.Qc("click",function CrisisDetailComponent_div_0_Template_button_click_14_listener(){core.ad(_r2);return core.Sc().cancel()}),core.ed(15,"Cancel"),core.Ic(),core.Ic(),core.Ic()}if(2&rf){const ctx_r0=core.Sc();core.wc(2),core.gd('"',ctx_r0.editName,'"'),core.wc(4),core.fd(ctx_r0.crisis.id),core.wc(4),core.Vc("ngModel",ctx_r0.editName)}}dialog_service_DialogService.\u0275fac=function DialogService_Factory(t){return new(t||dialog_service_DialogService)},dialog_service_DialogService.\u0275prov=core.Cc({token:dialog_service_DialogService,factory:dialog_service_DialogService.\u0275fac,providedIn:"root"});class CrisisDetailComponent{constructor(route,router,dialogService){this.route=route,this.router=router,this.dialogService=dialogService}ngOnInit(){this.route.data.subscribe(data=>{this.editName=data.crisis.name,this.crisis=data.crisis})}cancel(){this.gotoCrises()}save(){this.crisis.name=this.editName,this.gotoCrises()}canDeactivate(){return!this.crisis||this.crisis.name===this.editName||this.dialogService.confirm("Discard changes?")}gotoCrises(){const crisisId=this.crisis?this.crisis.id:null;this.router.navigate(["../",{id:crisisId,foo:"foo"}],{relativeTo:this.route})}}CrisisDetailComponent.\u0275fac=function CrisisDetailComponent_Factory(t){return new(t||CrisisDetailComponent)(core.Gc(router.a),core.Gc(router.b),core.Gc(dialog_service_DialogService))},CrisisDetailComponent.\u0275cmp=core.Ac({type:CrisisDetailComponent,selectors:[["app-crisis-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],["placeholder","name",3,"ngModel","ngModelChange"],[3,"click"]],template:function CrisisDetailComponent_Template(rf,ctx){1&rf&&core.dd(0,CrisisDetailComponent_div_0_Template,16,3,"div",0),2&rf&&core.Vc("ngIf",ctx.crisis)},directives:[common.j,fesm2015_forms.a,fesm2015_forms.c,fesm2015_forms.d],styles:["input[_ngcontent-%COMP%]{width:20em}"]});class CanDeactivateGuard{canDeactivate(component){return!component.canDeactivate||component.canDeactivate()}}CanDeactivateGuard.\u0275fac=function CanDeactivateGuard_Factory(t){return new(t||CanDeactivateGuard)},CanDeactivateGuard.\u0275prov=core.Cc({token:CanDeactivateGuard,factory:CanDeactivateGuard.\u0275fac,providedIn:"root"});var empty=__webpack_require__("EY2u"),take=__webpack_require__("IzEk"),mergeMap=__webpack_require__("5+tZ");class crisis_detail_resolver_service_CrisisDetailResolverService{constructor(cs,router){this.cs=cs,this.router=router}resolve(route,state){const id=route.paramMap.get("id");return this.cs.getCrisis(id).pipe(Object(take.a)(1),Object(mergeMap.a)(crisis=>crisis?Object(of.a)(crisis):(this.router.navigate(["/crisis-center"]),empty.a)))}}crisis_detail_resolver_service_CrisisDetailResolverService.\u0275fac=function CrisisDetailResolverService_Factory(t){return new(t||crisis_detail_resolver_service_CrisisDetailResolverService)(core.Nc(crisis_service_CrisisService),core.Nc(router.b))},crisis_detail_resolver_service_CrisisDetailResolverService.\u0275prov=core.Cc({token:crisis_detail_resolver_service_CrisisDetailResolverService,factory:crisis_detail_resolver_service_CrisisDetailResolverService.\u0275fac,providedIn:"root"});const crisisCenterRoutes=[{path:"",component:CrisisCenterComponent,children:[{path:"",component:crisis_list_component_CrisisListComponent,children:[{path:":id",component:CrisisDetailComponent,canDeactivate:[CanDeactivateGuard],resolve:{crisis:crisis_detail_resolver_service_CrisisDetailResolverService}},{path:"",component:CrisisCenterHomeComponent}]}]}];class CrisisCenterRoutingModule{}CrisisCenterRoutingModule.\u0275mod=core.Ec({type:CrisisCenterRoutingModule}),CrisisCenterRoutingModule.\u0275inj=core.Dc({factory:function CrisisCenterRoutingModule_Factory(t){return new(t||CrisisCenterRoutingModule)},imports:[[router.f.forChild(crisisCenterRoutes)],router.f]});class CrisisCenterModule{}CrisisCenterModule.\u0275mod=core.Ec({type:CrisisCenterModule}),CrisisCenterModule.\u0275inj=core.Dc({factory:function CrisisCenterModule_Factory(t){return new(t||CrisisCenterModule)},imports:[[common.c,fesm2015_forms.b,CrisisCenterRoutingModule]]})}};